<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>


        let imgArr = ["http://pic3.nipic.com/20090527/1242397_102231006_2.jpg", "http://img4.imgtn.bdimg.com/it/u=2259376396,2250852130&fm=26&gp=0.jpg"]

        function getImg(src) {
            return new Promise((resolve, reject) => {
                let img = new Image();
                img.src = src;

                img.onload = () => {
                    resolve(img)
                }

                img.onerror = () => {
                    reject()
                }

            })
        }


        let arr = imgArr.map(item => getImg(item));

        Promise.all(arr).then((img) => {
          img.forEach(ele=>document.body.appendChild(ele))
        }, () => {
            alert("失败")
        })

    </script>
</body>

</html>